<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
   
	<changeSet author="initialDB" id="3" dbms="h2">
		<validCheckSum/>
		<preConditions onFail="MARK_RAN">
		 	<not>
            	<tableExists tableName="TAG"/>
         	</not>
        </preConditions>
        <comment>DB initialization.</comment>
	    <sql>
		    drop table NUSER if exists;
		
		    create table NUSER (
		        id bigint generated by default as identity unique,
		        created_date timestamp,
		        last_modified_date timestamp,
		        authentication_provider_class varchar(255),
		        description varchar(255),
		        email varchar(255),
		        enabled char(1) not null,
		        is_external char(1),
		        mobile_phone varchar(255),
		        password varchar(255),
		        role_name varchar(255) not null,
		        timeZone varchar(255),
		        user_id varchar(255) not null unique,
		        user_language varchar(255),
		        user_name varchar(255),
		        created_user bigint,
		        last_modified_user bigint,
		        primary key (id)
		    );
		    
		    create index last_modified_user_index_NUSER on NUSER (last_modified_user);
		
		    create index created_user_index on NUSER (created_user);
		    
	    </sql>
    </changeSet>
</databaseChangeLog>